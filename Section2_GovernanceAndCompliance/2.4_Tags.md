# Azure Tags

## 1. Giá»›i Thiá»‡u  
**Azure Tags** lÃ  má»™t cÃ¡ch Ä‘á»ƒ gÃ¡n **cáº·p khÃ³a-giÃ¡ trá»‹ (key-value pairs)** vÃ o tÃ i nguyÃªn Azure nháº±m giÃºp tá»• chá»©c, phÃ¢n loáº¡i vÃ  quáº£n lÃ½ tÃ i nguyÃªn hiá»‡u quáº£ hÆ¡n.

![type](../assets/section2/tag.png)

## 2. Lá»£i Ãch Cá»§a Tags  
- **Quáº£n lÃ½ tÃ i nguyÃªn tá»‘t hÆ¡n**: NhÃ³m tÃ i nguyÃªn theo dá»± Ã¡n, bá»™ pháº­n, mÃ´i trÆ°á»ng, v.v.  
- **Theo dÃµi chi phÃ­**: GÃ¡n tags Ä‘á»ƒ phÃ¢n bá»• chi phÃ­ theo phÃ²ng ban hoáº·c khÃ¡ch hÃ ng.  
- **Tá»± Ä‘á»™ng hÃ³a**: Dá»… dÃ ng lá»c tÃ i nguyÃªn dá»±a trÃªn tags Ä‘á»ƒ Ã¡p dá»¥ng chÃ­nh sÃ¡ch hoáº·c tá»± Ä‘á»™ng hÃ³a.  

## 3. Cáº¥u TrÃºc Tags  
Má»—i tag bao gá»“m hai thÃ nh pháº§n:  
```plaintext
Key: Environment
Value: Production  
```

## 4. CÃ¡ch Ãp Dá»¥ng Tags
### 4.1. Sá»­ Dá»¥ng Azure Portal
- Truy cáº­p Azure Portal â†’ Chá»n tÃ i nguyÃªn.
- VÃ o tab Tags â†’ Nháº­p Key vÃ  Value â†’ LÆ°u láº¡i.

### 4.2. Sá»¬ dá»¥ng Azure CLI
```sh
az tag create --resource-id "/subscriptions/{sub-id}/resourceGroups/{rg-name}/providers/Microsoft.Compute/virtualMachines/{vm-name}" --tags Environment=Production Owner="IT Team"
```

### 4.3. Sá»­ Dá»¥ng Azure PowerShell
```sh
Set-AzResource -ResourceId "/subscriptions/{sub-id}/resourceGroups/{rg-name}/providers/Microsoft.Compute/virtualMachines/{vm-name}" -Tag @{Environment="Production"; Owner="IT Team"} -Force
```

## 5. Giá»›i Háº¡n Cá»§a Tags
- Má»—i tÃ i nguyÃªn cÃ³ thá»ƒ cÃ³ tá»‘i Ä‘a 50 tags.
- Key tá»‘i Ä‘a 512 kÃ½ tá»±, Value tá»‘i Ä‘a 256 kÃ½ tá»±.
- Má»™t sá»‘ tÃ i nguyÃªn (vÃ­ dá»¥: Storage Account) khÃ´ng há»— trá»£ tags trá»±c tiáº¿p.

## 6. Má»™t sá»‘ cÃ¡ch Ä‘Ã¡nh tags Ä‘á»“ng bá»™ 

Azure Tags khÃ´ng Ä‘Æ°á»£c káº¿ thá»«a tá»« Resource Group.

ğŸ“Œ Giáº£i thÃ­ch:
Khi báº¡n gÃ¡n tags cho má»™t Resource Group, cÃ¡c tÃ i nguyÃªn bÃªn trong khÃ´ng tá»± Ä‘á»™ng nháº­n tags Ä‘Ã³.
Náº¿u muá»‘n táº¥t cáº£ tÃ i nguyÃªn trong Resource Group cÃ³ cÃ¹ng tags, báº¡n pháº£i gÃ¡n tags riÃªng láº» cho tá»«ng tÃ i nguyÃªn.

Do tÃ­nh khÃ´ng káº¿ thá»«a cá»§a tags
Äá»ƒ Ä‘Ã¢nh tags Ä‘á»“ng bá»™ cho cÃ¡ tÃ i nguyÃªn b

### 6.1 Viáº¿t file sh vÃ  cháº¡y file Ä‘Ã³   
vi run_tags.sh
```sh
# Äáº·t tÃªn resource group vÃ  cÃ¡c tag cáº§n thÃªm
RESOURCE_GROUP="rg-ABC-dev"
TAGS="Module=XXY"

# Láº¥y danh sÃ¡ch táº¥t cáº£ cÃ¡c tÃ i nguyÃªn trong resource group
resources=$(az resource list --resource-group $RESOURCE_GROUP --query "[].id" -o tsv)

# ThÃªm tag cho tá»«ng tÃ i nguyÃªn
for resource in $resources; do
    az resource tag --ids $resource --tags $TAGS
done

```


### 6.2 Azure CLI
```sh
az group update --name denso-hackathon --tags CreatedBy=NAME ProjectName=PROJECT Module=MODULE Environment=DEV
foreach ($resourceId in az resource list --resource-group denso-hackathon --query "[].id" -o tsv) {
    az resource tag --ids $resourceId --tags CreatedBy=NAME ProjectName=PROJECT Module=MODULE Environment=DEV
}
```